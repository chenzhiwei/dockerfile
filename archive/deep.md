# docker

官方介绍Docker是一个开发、组装以及运行应用的开放平台。

普通的Linux系统上安装多个应用程序，那么这些应用程序之间可能会互相抢占系统资源，相互影响。但是如果将应用程序放在Docker里的话，再给这个Docker分配一定量的系统资源（内存和CPU），那么这个应用程序的活动范围就仅限于这个Docker了，进而做到应用程序之间和平共处，不会相互影响。这是隔离。

对于某些复杂的应用程序来说，配置项会有很多，有时在各个平台上面的配置项还都不一样，部署起来非常麻烦。试想一下你这个复杂的应用程序放进一个Docker里面，用户只需要运行这个Docker，那么应用程序就已经部署好了，这是多么的简单的方便。比如你自己来安装配置一个MongoDB会非常麻烦，但是你运行一个装载有MongoDB的Docker会非常简单。再举一个例子，Gitlab这个东西不知道你听说过没，这个东东依赖很多，配置起来相当麻烦，但是你可以下载一个包含Gitlab的Docker Image，然后直接运行，一个完整的Gitlab就搭建好了，非常简单。这是简化部署。

还有就是搭建开发环境，很多时候一台服务器都是分给多个开发人员使用的，多人使用同一台机器会非常麻烦，如果没有root权限的话开发人员还需要手动编译安装一些应用程序，然后在非root用户下运行使用，想想都头大。我之前就和别人共用过一台服务器，经常出现各种冲突。但是现在有Docker了，你可以在服务器上给每个开发人员分配一个Docker容器，然后开发人员在Docker容器中进行各种操作，非常方便。当然你也可以在这台机器上创建一些虚拟机，但是虚拟机管理不如Docker简单，并且Docker更加轻量级。

将应用程序放在Docker里面也会使得升级变得更加容易。试想一下，把应用程序放到一个Docker里面，升级的时候只需要下载一个装有新版应用程序的Docker Image，然后运行它就可以了，不需要再去执行各种各样的升级命令了。

以上虽好，但是限制也非常多，适合的应用程序太少了。尤其是对于那些需要经常改动配置项的应用程序来说，简直是个恶梦。

## Docker Layer

![Docker Layer](images/docker-filesystems-multilayer.png)

如上图所示，一个典型的Docker分为以下几个层级，最下方是kernel bootfs，再往上是Base Image，再往上就是一些增量Image，最上面是一个可写的container。用户每次改动都会体现在最上方的container里面。这里引用了AuFS的概念，[看这里](https://github.com/chenzhiwei/linux/tree/master/aufs)。

## Docker Image

## Docker Hub

## End

Docker现在的使用场景还是非常有限的，但是在某些情况下使用Docker确实要方便很多。
